<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ancient Education - BharatRoots</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;800&family=Outfit:wght@300;400;600&family=Tiro+Sanskrit&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="Educations.css">
</head>

<body>

    <section class="hero">
        <div class="sanskrit-sloka">सा विद्या या विमुक्तये</div>
        <h1>The Ancient <span>Gurukul</span> System</h1>
        <p>Education in Bharat was not just about earning a livelihood; it was about liberation (Moksha) and holistic
            development of the mind, body, and spirit.</p>
    </section>

    <div class="philosophy-grid">
        <div class="philo-card">
            <i class="fa-solid fa-tree philo-icon"></i>
            <h3>Residential Learning</h3>
            <p>Students lived with the Guru (Gurukul), learning discipline, nature conservation, and self-reliance
                alongside academics.</p>
        </div>
        <div class="philo-card">
            <i class="fa-solid fa-hand-holding-heart philo-icon"></i>
            <h3>Free Education</h3>
            <p>Knowledge was sacred and never sold. The system ran on 'Bhiksha' (alms) and royal grants. 'Guru Dakshina'
                was optional and given only at the end.</p>
        </div>
        <div class="philo-card">
            <i class="fa-solid fa-brain philo-icon"></i>
            <h3>Oral Tradition</h3>
            <p>Emphasis on 'Shruti' (Listening) and 'Smriti' (Memorizing). This developed incredible memory power and
                cognitive skills.</p>
        </div>
    </div>
    <section class="vidya-section" id="vidya">
        <div class="section-header">
            <h2>The 18 Pillars of Knowledge</h2>
            <p style="color: var(--text-grey);">A comprehensive curriculum covering every aspect of life.</p>
        </div>
        <div class="vidya-grid">

            <div class="vidya-card">
                <div class="cat-header">
                    <i class="fa-solid fa-scroll"></i>
                    <h3>The 4 Vedas </h3>
                </div>
                <div class="subject-list">
                    <div class="subject-item modal-trigger" data-key="rigveda">
                        <div>
                            <div class="sub-name">Rig Veda</div><span class="sub-desc">Hymns & Philosophy</span>
                        </div>
                        <i class="fa-solid fa-chevron-right read-icon"></i>
                    </div>
                    <div class="subject-item modal-trigger" data-key="yajurveda">
                        <div>
                            <div class="sub-name">Yajur Veda</div><span class="sub-desc">Rituals & Action</span>
                        </div>
                        <i class="fa-solid fa-chevron-right read-icon"></i>
                    </div>
                    <div class="subject-item modal-trigger" data-key="samaveda">
                        <div>
                            <div class="sub-name">Sama Veda</div><span class="sub-desc">Music & Chants</span>
                        </div>
                        <i class="fa-solid fa-chevron-right read-icon"></i>
                    </div>
                    <div class="subject-item modal-trigger" data-key="atharvaveda">
                        <div>
                            <div class="sub-name">Atharva Veda</div><span class="sub-desc">Science & Society</span>
                        </div>
                        <i class="fa-solid fa-chevron-right read-icon"></i>
                    </div>
                </div>
            </div>

            <div class="vidya-card">
                <div class="cat-header">
                    <i class="fa-solid fa-puzzle-piece"></i>
                    <h3>The 6 Vedangas </h3>
                </div>
                <div class="subject-list">
                    <div class="subject-item modal-trigger" data-key="shiksha">
                        <div>
                            <div class="sub-name">Shiksha</div><span class="sub-desc">Phonetics</span>
                        </div>
                        <i class="fa-solid fa-chevron-right read-icon"></i>
                    </div>
                    <div class="subject-item modal-trigger" data-key="vyakarana">
                        <div>
                            <div class="sub-name">Vyakarana</div><span class="sub-desc">Grammar</span>
                        </div>
                        <i class="fa-solid fa-chevron-right read-icon"></i>
                    </div>
                    <div class="subject-item modal-trigger" data-key="nirukta">
                        <div>
                            <div class="sub-name">Nirukta</div><span class="sub-desc">Etymology</span>
                        </div>
                        <i class="fa-solid fa-chevron-right read-icon"></i>
                    </div>
                    <div class="subject-item modal-trigger" data-key="chandas">
                        <div>
                            <div class="sub-name">Chandas</div><span class="sub-desc">Prosody</span>
                        </div>
                        <i class="fa-solid fa-chevron-right read-icon"></i>
                    </div>
                    <div class="subject-item modal-trigger" data-key="jyotisha">
                        <div>
                            <div class="sub-name">Jyotisha</div><span class="sub-desc">Astronomy</span>
                        </div>
                        <i class="fa-solid fa-chevron-right read-icon"></i>
                    </div>
                    <div class="subject-item modal-trigger" data-key="kalpa">
                        <div>
                            <div class="sub-name">Kalpa</div><span class="sub-desc">Rituals</span>
                        </div>
                        <i class="fa-solid fa-chevron-right read-icon"></i>
                    </div>
                </div>
            </div>

            <div class="vidya-card">
                <div class="cat-header">
                    <i class="fa-solid fa-flask"></i>
                    <h3>The 4 Upavedas </h3>
                </div>
                <div class="subject-list">
                    <div class="subject-item modal-trigger" data-key="ayurveda">
                        <div>
                            <div class="sub-name">Ayurveda</div><span class="sub-desc">Medicine & Health</span>
                        </div>
                        <i class="fa-solid fa-chevron-right read-icon"></i>
                    </div>
                    <div class="subject-item modal-trigger" data-key="dhanurveda">
                        <div>
                            <div class="sub-name">Dhanurveda</div><span class="sub-desc">Military Science</span>
                        </div>
                        <i class="fa-solid fa-chevron-right read-icon"></i>
                    </div>
                    <div class="subject-item modal-trigger" data-key="gandharvaveda">
                        <div>
                            <div class="sub-name">Gandharvaveda</div><span class="sub-desc">Music & Arts</span>
                        </div>
                        <i class="fa-solid fa-chevron-right read-icon"></i>
                    </div>
                    <div class="subject-item modal-trigger" data-key="arthashastra">
                        <div>
                            <div class="sub-name">Arthashastra</div><span class="sub-desc">Polity & Economics</span>
                        </div>
                        <i class="fa-solid fa-chevron-right read-icon"></i>
                    </div>
                </div>
            </div>

            <div class="vidya-card">
                <div class="cat-header">
                    <i class="fa-solid fa-scale-balanced"></i>
                    <h3>The 4 Upangas </h3>
                </div>
                <div class="subject-list">
                    <div class="subject-item modal-trigger" data-key="purana">
                        <div>
                            <div class="sub-name">Purana</div><span class="sub-desc">History</span>
                        </div>
                        <i class="fa-solid fa-chevron-right read-icon"></i>
                    </div>
                    <div class="subject-item modal-trigger" data-key="nyaya">
                        <div>
                            <div class="sub-name">Nyaya</div><span class="sub-desc">Logic</span>
                        </div>
                        <i class="fa-solid fa-chevron-right read-icon"></i>
                    </div>
                    <div class="subject-item modal-trigger" data-key="mimamsa">
                        <div>
                            <div class="sub-name">Mimamsa</div><span class="sub-desc">Interpretation</span>
                        </div>
                        <i class="fa-solid fa-chevron-right read-icon"></i>
                    </div>
                    <div class="subject-item modal-trigger" data-key="dharmashastra">
                        <div>
                            <div class="sub-name">Dharma Shastra</div><span class="sub-desc">Law</span>
                        </div>
                        <i class="fa-solid fa-chevron-right read-icon"></i>
                    </div>
                </div>
            </div>
        </div>

        <div id="vidyaModal" class="modal-overlay">
            <div class="modal-content">
                <div class="modal-header">
                    <span class="close-btn">&times;</span>
                    <h2 id="modal-title">Subject Name</h2>
                    <div class="divider"></div>
                </div>

                <div class="modal-body-scroll">
                    <p id="modal-desc">Loading content...</p>
                </div>
            </div>
        </div>
    </section>

    <section class="routine-section" id="routine">
        <div class="section-title-timeline">
            <h2 class="section-title">Gurukul Dincharya</h2>
            <p class="section-subtitle">The disciplined daily routine of a Shishya (Student).</p>
        </div>

        <div class="timeline">
            <div class="time-card">
                <span class="time-slot">04:00 AM - Brahma Muhurta</span>
                <div class="activity-title">Wake Up & Meditation</div>
                <div class="activity-desc">The mind is calmest before dawn. Best time for Dhyana (Meditation) and
                    studying difficult concepts.</div>
            </div>

            <div class="time-card">
                <span class="time-slot">05:30 AM - Snana & Sandhyavandanam</span>
                <div class="activity-title">Hygiene & Solar Salutation</div>
                <div class="activity-desc">Bath in the river and offering prayers to the rising Sun (Surya Namaskar) to
                    align with the circadian rhythm.</div>
            </div>

            <div class="time-card">
                <span class="time-slot">07:00 AM - Guruseva</span>
                <div class="activity-title">Service to Guru & Ashram</div>
                <div class="activity-desc">Cleaning the ashram, collecting wood for Yajna, and tending to cattle (Gau
                    Seva). Teaches humility.</div>
            </div>

            <div class="time-card">
                <span class="time-slot">09:00 AM - Adhyayan (Session 1)</span>
                <div class="activity-title">Main Learning Session</div>
                <div class="activity-desc">The Guru teaches new concepts. Emphasis on 'Shruti' (listening with absolute
                    focus) without taking notes.</div>
            </div>

            <div class="time-card">
                <span class="time-slot">12:00 PM - Bhiksha & Bhojan</span>
                <div class="activity-title">Alms & Mid-day Meal</div>
                <div class="activity-desc">Students would go to nearby villages to ask for alms (food), dissolving the
                    ego. Simple Sattvic food was eaten.</div>
            </div>

            <div class="time-card">
                <span class="time-slot">04:00 PM - Vyayam & Krida</span>
                <div class="activity-title">Physical Training & Sports</div>
                <div class="activity-desc">Training in martial arts (Kalaripayattu), archery, yoga, and swimming to
                    build a strong body.</div>
            </div>
        </div>
    </section>

    <section class="uni-section">
        <h2 class="section-title">Centers of Excellence</h2>
        <div class="uni-grid">
            <div class="uni-card">
                <div class="uni-img"><i class="fa-solid fa-building-columns"></i></div>
                <div class="uni-content">
                    <h3>Takshashila</h3>
                    <p><strong>World's First University (c. 700 BCE)</strong>. Located in present-day Pakistan. Chanakya
                        taught here. Famous for Politics, Medicine, and Military Science.</p>
                </div>
            </div>
            <div class="uni-card">
                <div class="uni-img"><i class="fa-solid fa-book-open"></i></div>
                <div class="uni-content">
                    <h3>Nalanda</h3>
                    <p><strong>The Great Mahavihara (c. 427 CE)</strong>. A residential university with 10,000 students
                        and 2,000 teachers. Its library, <em>Dharmagunj</em>, was 9 stories high.</p>
                </div>
            </div>
        </div>
    </section>


</body>
<script>
    document.addEventListener('DOMContentLoaded', () => {

        // --- DOM ELEMENTS ---
        const modal = document.getElementById("vidyaModal");
        const modalTitle = document.getElementById("modal-title");
        const modalDesc = document.getElementById("modal-desc");
        const closeBtn = document.querySelector(".close-btn");
        const triggers = document.querySelectorAll(".modal-trigger");

        // --- API CONFIGURATION ---
        const API_BASE_URL = "http://localhost:8081/api/alltopics";

        // --- OPEN MODAL FUNCTION ---
        async function openModal(key) {

            // 1. Loading UI
            modalTitle.innerText = "Loading...";
            modalDesc.innerText = "Retrieving wisdom from the archives...";
            modal.classList.add("active");

            try {
                // 2. Fetch Data
                const response = await fetch(API_BASE_URL);

                if (!response.ok) {
                    throw new Error("Data not found");
                }

                // --- ERROR 1 FIX: 'response' chhota (small) hona chahiye ---
                const result = await response.json();

                // --- ERROR 2 FIX: List me se sahi item dhoondhna ---
                // Aapki API ek Array bhej rahi hai, direct object nahi.
                if (result.success && Array.isArray(result.data)) {

                    // Hum us item ko find karenge jiska Title match kare
                    const foundItem = result.data.find(item => {
                        // Spaces hatakar aur lowercase karke match karenge
                        // e.g. "Rig Veda" becomes "rigveda" -> matches key "rigveda"
                        const normalizedTitle = item.title.toLowerCase().replace(/\s+/g, '');
                        return normalizedTitle === key.toLowerCase();
                    });

                    if (foundItem) {
                        modalTitle.innerText = foundItem.title;
                        modalDesc.innerText = foundItem.summary || foundItem.desc;
                    } else {
                        modalTitle.innerText = "Not Found";
                        modalDesc.innerText = "Details unavailable.";
                    }
                } else {
                    throw new Error("Invalid API Format");
                }

            } catch (error) {
                console.error("Fetch Error:", error);
                modalTitle.innerText = "Error";
                modalDesc.innerText = "Could not connect to backend.";
            }
        }

        // --- EVENT LISTENERS ---
        triggers.forEach(item => {
            item.addEventListener("click", () => {
                const key = item.getAttribute("data-key");
                console.log("Fetching Data for Key:", key);
                if (key) openModal(key);
            });
        });

        // Close Button Logic
        closeBtn.addEventListener("click", () => {
            modal.classList.remove("active");
        });

        // Close on Click Outside
        window.addEventListener("click", (e) => {
            if (e.target === modal) {
                modal.classList.remove("active");
            }
        });

        // Close on Escape Key
        document.addEventListener("keydown", (e) => {
            if (e.key === "Escape" && modal.classList.contains("active")) {
                modal.classList.remove("active");
            }
        });
    });
</script>

</html>